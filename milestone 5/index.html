<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css"> <!-- Link to the external stylesheet -->
    <title>Resume Builder</title>
</head>
<body>
    
   <main id="main_body">
    <h1 id="title">Resume Builder</h1>
    
    <!-- Section containing buttons for user actions -->
    <section id="btn-box">
        <!-- Button to start the resume building process -->
        <input type="button" value="Start" class="btn" id="start-btn" onclick="Show_Resume()">
        <!-- Button to edit the resume (disabled initially) -->
        <input type="button" value="Edit" class="btn" id="edit-btn" onclick="Edit_Resume()" disabled>
        <!-- Button to download the resume (disabled initially) -->
        <input type="button" value="Download" class="btn" onclick="Download_PDF()" id="download-btn" disabled>
        <!-- Shareable link section -->
        <a id="share-link" href="#"  > <input type="button" value="Share Link" class="btn"  id="share-link-btn" disabled> </a>


    </section>
    
    <!-- Resume build form -->
    <section id="Resume_build_box">
        <form action="#" id="form">
            <!-- Personal information section -->
            <div id="personal_info">
                <label for="Name">Full Name:</label>
                <input type="text" id="Name" placeholder="John Doe" required>
                <br />
                <label for="email">Email:</label>
                <input type="email" id="email" placeholder="Example@gmail.com" required>
                <br />
                <label for="Phone">Phone No.:</label>
                <input type="number" id="Phone" placeholder="123-456-7890" required>
                <br />
                <label for="address">Address:</label>
                <input type="text" id="address" placeholder="house no.-R190, sheet-01, A city, USA" required>
            </div>
            
            <!-- Education, work, and skill section -->
            <div id="education-box">
                <label for="profile-summary">Profile Summary</label>
                <input type="text" placeholder="Summary of your Resume here" id="profile-summary" required>
                <br />
                <label for="skill">Skill: (Add comma after each skill to separate)</label>
                <input type="text" placeholder="Skill here" id="skill" required>
                <br />
                <label for="work">Work Experience:</label>
                <textarea style="resize: none;" name="Work_exp" id="work" placeholder="Work Experience here" cols="2" required></textarea>
                <br />
                <label for="education">Education:</label>
                <textarea style="resize: none;" name="education" placeholder="Education" id="education" cols="2" required></textarea>
            </div>
            
            <br />
            
            <!-- Button to generate resume -->
            <input id="submit-btn" value="Generate Resume" class="btn" onclick="Submit()">
        </form>
    </section>
    
    <!-- Section to display the generated resume -->
     <div id="invoice">
    <section id="Resume-result">
        <div id="resume_table">
            <h1 id="table-name"></h1>
            <br />
            <h4 id="table-email"></h4>
            <br>
            <h4 id="table-phone"></h4>
            <br />
            <h4 id="table-address"></h4>
            <br />
            <h3>Profile Summary:</h3>
            <p id="table-profile-summary"></p>
            <br />
            <h3>Skills:</h3>
            <div id="table-skill"></div>
            <br /> 
            <h3>Work Experience:</h3>
            <p id="table-work-exp"></p>
            <br />
            <h3>Education:</h3>
            <p id="table-education"></p>
        </div>
    </section>
    </div>
   </main> 

   <!-- Link to the external JavaScript file -->
   <script src="./script.js"></script>
   <!-- CDN for PDF Download -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
   <script>

    // Function for download pdf
    function Download_PDF() {
    console.log("Download_PDF function called");
    const pdf = document.getElementById('invoice');

    // Ensure Resume-result is displayed
    const resumeResult = document.getElementById('Resume-result');
    resumeResult.style.display = 'block';
    
    // Wait for the display to update before generating the PDF
    setTimeout(() => {
        html2pdf().from(pdf).save();
        console.log("PDF should be downloading now");
    }, 300);  // Small delay to ensure rendering
}

   </script>
</body>
</html>
